(this.webpackJsonpbalancetheworld=this.webpackJsonpbalancetheworld||[]).push([[4],{100:function(e,t,a){e.exports=a.p+"static/media/Sargassum.011fe6ea.png"},101:function(e,t,a){e.exports=a.p+"static/media/intro.3b507568.mp4"},113:function(e,t,a){"use strict";a.r(t);var s,i,r=a(0),n=a.n(r),o=a(56),l=a.n(o),h=a(111),c=a(55),p=a(88),d=a(65),m=a(67),u=a(66),_=a(89),g=a.n(_),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e,s){var i;Object(c.a)(this,a),(i=t.call(this,e,s)).width=document.body.clientHeight,i.height=document.body.clientWidth,i.insertPolygon=function(e,t){var a=new l.a.Geom.Polygon([new l.a.Geom.Point(100,40),new l.a.Geom.Point(150,60),new l.a.Geom.Point(150,80),new l.a.Geom.Point(140,160),new l.a.Geom.Point(50,100),new l.a.Geom.Point(80,40)]),s=e.add.graphics({lineStyle:{width:5,color:16711680},fillStyle:{color:16711680,alpha:.4}});s.beginPath(),s.moveTo(a.points[0].x,a.points[0].y);for(var i=1;i<a.points.length;i++)s.lineTo(a.points[i].x,a.points[i].y);s.closePath(),s.strokePath(),t.add(s)};var r=e.add.container(i.height-280,i.width-200),n=e.add.sprite(0,0,"donutBase").setOrigin(0);return r.add(n),i.insertPolygon(e,r),i}return a}(l.a.GameObjects.Graphics),x=a(90),f=a.n(x),b=a(91),y=a.n(b),w=a(92),P=a.n(w),k=a(93),S=a.n(k),C=a(94),M=a.n(C),B=a(95),G=a.n(B),O=a(96),T=a.n(O),F=a(97),j=a.n(F),E=a(98),D=a.n(E),H=a(99),V=a.n(H),A=a(100),I=a.n(A),L=a(101),N=a.n(L),X=-1,Y=[],z=!1,J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,"scene")).balance=void 0,e.dollar_balance=void 0,e.balance_text=void 0,e.dollar_balance_text=void 0,e.entity_cruise_ship=void 0,e.happiness_text=void 0,e.sea_life_text=void 0,e.plastic_text=void 0,e.sea_level_text=void 0,e.ph_text=void 0,e.o2_text=void 0,e.co2_text=void 0,e.nutrition_text=void 0,e.noise_text=void 0,e.temp_text=void 0,e.parameters={happiness:50,sea_life:10,plastic:0,sea_level:21,ph:8.1,o2:21e4,co2:409.8,nutrition:10,noise:10,temp:.95},e.default_parameters={happiness:50,sea_life:20,plastic:0,sea_level:0,ph:8.1,o2:21e4,co2:409.8,nutrition:0,noise:0,temp:-.2},e.vx=void 0,e.vy=void 0,e.prevX=void 0,e.prevY=void 0,e.length=void 0,e.waves=void 0,e.line=void 0,e.points=void 0,e.graphics=void 0,i=Object(d.a)(e),e.balance=0,e.dollar_balance=Phaser.Math.Between(1,10),e}return Object(p.a)(a,[{key:"preload",value:function(){this.load.image("donutBase",f.a),this.load.image("shark",y.a),this.load.image("map",g.a),this.load.image("turtle",P.a),this.load.image("tuna",S.a),this.load.image("humpback",M.a),this.load.image("fishing_boat",G.a),this.load.image("cruise_ship",T.a),this.load.image("plastic",j.a),this.load.image("sargassum",I.a),this.load.image("plasticbag",V.a),this.load.image("microplastic",D.a),this.load.video("intro",N.a);this.textures.generate("star",{data:[".....828.....","....72227....","....82228....","...7222227...","2222222222222","8222222222228",".72222222227.","..787777787..","..877777778..",".78778887787.",".27887.78872.",".787.....787."],pixelWidth:2})}},{key:"loadDiamonds",value:function(e){for(var t=0;t<e;t+=1){var a=Phaser.Math.Between(50,1500),s=Phaser.Math.Between(50,1500),i=this.add.image(a,s,"star");i.setInteractive(),i.on("clicked",this.clickHandler,this)}this.input.on("gameobjectup",(function(e,t){t.emit("clicked",t)}),this),this.init_text_labels()}},{key:"init_text_labels",value:function(){this.balance_text=this.add.text(20,20,"Money: ".concat(this.balance),{font:"26px Arial",fill:"#00CED1",backgroundColor:"white"}),this.dollar_balance_text=this.add.text(20,50,"$ "+this.dollar_balance,{font:"26px Arial",fill:"#1E90FF",backgroundColor:"white"});var e={font:"18px Arial",fill:"#000080",backgroundColor:"white"};this.happiness_text=this.add.text(20,100,"Happiness: ".concat(this.parameters.happiness),e),this.sea_life_text=this.add.text(20,120,"Sea life: ".concat(this.parameters.sea_life),e),this.plastic_text=this.add.text(20,140,"Plastic: ".concat(this.parameters.plastic),e),this.sea_level_text=this.add.text(20,160,"Sea level: ".concat(this.parameters.sea_level),e),this.ph_text=this.add.text(20,180,"PH level: ".concat(this.parameters.ph),e),this.o2_text=this.add.text(20,200,"O2: ".concat(this.parameters.o2),e),this.co2_text=this.add.text(20,220,"CO2: ".concat(this.parameters.co2),e),this.nutrition_text=this.add.text(20,240,"Nutrition: ".concat(this.parameters.nutrition),e),this.noise_text=this.add.text(20,260,"Noise: ".concat(this.parameters.noise),e),this.temp_text=this.add.text(20,280,"Temp: ".concat(this.parameters.temp),e)}},{key:"update_text_labels",value:function(){this.balance_text.setText("Money: ".concat(this.balance)),this.balance_text.setStyle({fill:0===this.balance?"red":"blue"}),this.happiness_text.setText("Happiness: ".concat(this.parameters.happiness)),this.happiness_text.setStyle({backgroundColor:this.parameters.happiness>=this.default_parameters.happiness?"green":"red"}),this.sea_life_text.setText("Sea life: ".concat(this.parameters.sea_life)),this.sea_life_text.setStyle({backgroundColor:this.parameters.sea_life>=this.default_parameters.sea_life?"green":"red"}),this.plastic_text.setText("Plastic: ".concat(this.parameters.plastic)),this.plastic_text.setStyle({backgroundColor:this.parameters.plastic<=this.default_parameters.plastic?"green":"red"}),this.sea_level_text.setText("Sea level: ".concat(this.parameters.sea_level)),this.sea_level_text.setStyle({backgroundColor:this.parameters.sea_level<=this.default_parameters.sea_level?this.parameters.sea_level===this.default_parameters.sea_level?"green":"#FFD700":"red"}),this.ph_text.setText("PH level: ".concat(this.parameters.ph)),this.ph_text.setStyle({backgroundColor:this.parameters.ph<=this.default_parameters.ph?this.parameters.ph===this.default_parameters.ph?"green":"#FFD700":"red"}),this.o2_text.setText("O2: ".concat(this.parameters.o2)),this.o2_text.setStyle({backgroundColor:this.parameters.o2>=this.default_parameters.o2?this.parameters.o2===this.default_parameters.o2?"green":"#FFD700":"red"}),this.co2_text.setText("CO2: ".concat(this.parameters.co2)),this.co2_text.setStyle({backgroundColor:this.parameters.co2<=this.default_parameters.co2?this.parameters.co2===this.default_parameters.co2?"green":"#FFD700":"red"}),this.nutrition_text.setText("Nutrition: ".concat(this.parameters.nutrition)),this.nutrition_text.setStyle({backgroundColor:this.parameters.nutrition<=this.default_parameters.nutrition?"green":"red"}),this.noise_text.setText("Noise: ".concat(this.parameters.noise)),this.noise_text.setStyle({backgroundColor:this.parameters.noise<=this.default_parameters.noise?"green":"red"}),this.temp_text.setText("Temp: +".concat(this.parameters.temp)),this.temp_text.setStyle({backgroundColor:this.parameters.temp>this.default_parameters.temp?"red":this.parameters.temp===this.default_parameters.temp?"green":"#FFD700"})}},{key:"clickHandler",value:function(e){if(this.balance-10>0){var t=e;this.balance+=25,i.parameters.plastic+=1,i.parameters.happiness+=1,i.parameters.co2+=4,i.parameters.noise+=5,i.parameters.temp+=.02,i.parameters.ph+=.01,i.parameters.sea_life-=4,t.off("clicked",this.clickHandler),t.input.enabled=!1,t.setVisible(!1)}}},{key:"create",value:function(){this.cameras.main.setBounds(0,0,2048,2048),this.add.image(0,0,"map").setOrigin(0),this.graphics=this.add.graphics(),this.initialize_swimming_entities(),this.loadDiamonds(20);new v(this,{});(s=this.add.video(960,500,"intro")).play(!0),this.time.delayedCall(4e3,this.stopVideo,[])}},{key:"stopVideo",value:function(){z=!0,s.stop(),s.destroy()}},{key:"update",value:function(e,t){if(z){if(this.update_text_labels(),-1===X)return;if((X+=t)>=2e4)X=0;else for(var a=X/2e4,s=0;s<Y.length;s+=1){var i=Y[s].curve.getPoint(a);Y[s].image.setPosition(i.x,i.y)}}}},{key:"initialize_swimming_entities",value:function(){Y=[],Y=[{image:this.add.image(0,0,"shark").setScale(.5),curve:new Phaser.Curves.Spline(this.get_points(100,1e3,1900,300,100,-100,3))},{image:this.add.image(0,0,"turtle").setScale(.2),curve:new Phaser.Curves.Spline(this.get_points(2e3,900,350,450,30,-90,3))},{image:this.add.image(0,0,"tuna").setScale(1/8),curve:new Phaser.Curves.Spline(this.get_points(1200,-300,300,1900,30,-90,3))},{image:this.add.image(0,0,"humpback").setScale(1/3),curve:new Phaser.Curves.Spline(this.get_points(2600,500,300,1200,30,-90,3))},{image:this.add.image(0,0,"fishing_boat").setScale(.5),curve:new Phaser.Curves.Spline(this.get_points(900,550,905,555,30,-90,3))},{image:this.add.image(0,0,"cruise_ship").setScale(1/7).setInteractive().on("clicked",this.dump_plastic),curve:new Phaser.Curves.Spline(this.get_points(1800,0,800,1200,150,-55,5))}],this.create_sargassums(6),X=0}},{key:"create_sargassums",value:function(e){for(var t=0;t<=e;t++){var a={image:this.add.image(0,0,"sargassum").setScale(1/6).setInteractive().on("clicked",this.collect_sargassum),curve:new Phaser.Curves.Ellipse(Phaser.Math.Between(200,1500),Phaser.Math.Between(300,900),Phaser.Math.Between(1,300),Phaser.Math.Between(1,300),Phaser.Math.Between(0,360),Phaser.Math.Between(0,360),!Phaser.Math.Between(0,1))};Y.push(a)}}},{key:"get_rundom_plastic_image",value:function(e,t){var a,s=Phaser.Math.Between(0,2);return 0===s?a=i.add.image(e,t,"microplastic").setScale(1/3):1===s?a=i.add.image(e,t,"plasticbag").setScale(1/6).setInteractive().on("clicked",i.collect_plastic):2===s&&(a=i.add.image(e,t,"plastic").setScale(1/6).setInteractive().on("clicked",i.collect_plastic)),a}},{key:"dump_plastic",value:function(e){var t=i.get_rundom_plastic_image(e.x,e.y);Y.push({curve:i.get_rundom_swimming_ellipce(e.x,e.y),image:t}),i.parameters.plastic+=1,i.parameters.happiness+=1,i.parameters.co2+=1,i.parameters.noise+=1,i.parameters.temp+=.002,i.parameters.ph+=.01,i.parameters.sea_life-=2,i.balance+=15}},{key:"collect_plastic",value:function(e){var t=e;t.off("clicked",i.collect_plastic),t.input.enabled=!1,t.setVisible(!1),i.balance-=20,i.parameters.plastic-=1,i.parameters.noise+=1,i.parameters.co2+=1,i.parameters.ph-=.01,i.parameters.temp-=.003,i.parameters.sea_life+=1}},{key:"collect_sargassum",value:function(e){var t=e;t.off("clicked",i.collect_plastic),t.input.enabled=!1,t.setVisible(!1),i.time.addEvent({delay:Phaser.Math.Between(6e3,1e5),callback:i.spawn_sargassum,args:[t],loop:!1}),i.balance+=12,i.parameters.o2-=2,i.parameters.ph+=.1,i.parameters.temp+=.01,i.parameters.sea_life-=2}},{key:"spawn_sargassum",value:function(e){var t=e;t.on("clicked",i.collect_sargassum),t.input.enabled=!0,i.input.on("gameobjectup",(function(e,t){t.emit("clicked",t,!1)}),i),t.setVisible(!0),i.parameters.o2+=1,i.parameters.co2-=2,i.parameters.ph-=.1,i.parameters.sea_life+=1,i.parameters.noise-=1,i.parameters.temp-=.001}},{key:"get_rundom_swimming_ellipce",value:function(e,t){this.graphics=this.add.graphics(),this.graphics.lineStyle(0,16777215,1);var a=new Phaser.Curves.Ellipse(e,t,Phaser.Math.Between(1,500),Phaser.Math.Between(1,500),Phaser.Math.Between(0,360),Phaser.Math.Between(0,360),!Phaser.Math.Between(0,1));return a.draw(this.graphics,Phaser.Math.Between(1,100)),a}},{key:"get_points",value:function(e,t,a,s,i,r,n){return this.line=new Phaser.Geom.Line(e,t,a,s),this.points=[],this.points.push(this.line.getPointA()),this.length=Phaser.Geom.Line.Length(this.line),this.waves=Math.ceil(this.length/200),this.vx=100,this.vy=100,this.prevX=this.line.x1,this.prevY=this.line.y1,this.generate_points_set(i,r,n),this.points.push(this.line.getPointB()),this.points}},{key:"generate_points_set",value:function(e,t,a){for(var s=1;s<=this.waves;s+=1){var i=this.line.getPoint(s/this.waves),r=new Phaser.Geom.Line(this.prevX,this.prevY,i.x,i.y),n=Phaser.Geom.Line.GetNormal(r),o=Phaser.Geom.Line.GetMidPoint(r);this.points.push(this.get_vector(s,a,o,n,e,t)),this.prevX=i.x,this.prevY=i.y,this.vx*=-1,this.vy*=-1}}},{key:"get_vector",value:function(e,t,a,s,i,r){return e%t===0?new Phaser.Math.Vector2(a.x+s.x*this.vx,a.y+s.y*this.vy):new Phaser.Math.Vector2(a.x+i+s.x*this.vx,a.y-r+s.y*this.vy)}}]),a}(Phaser.Scene),W={type:Phaser.AUTO,width:1e3,height:1200,scene:J,physics:{default:"matter",matter:{debug:!0,gravity:{x:0,y:0}}}};t.default=function(){var e=new l.a.Game(W);return e.scale.scaleMode=l.a.Scale.RESIZE,e.scene[0],n.a.createElement(h.a,{display:"flex"},n.a.createElement(h.a,{m:"auto",textAlign:"center"},n.a.createElement("div",{id:"game",className:"game-screen"})))}},89:function(e,t,a){e.exports=a.p+"static/media/largemap.72d9c851.png"},90:function(e,t,a){e.exports=a.p+"static/media/donut.53c80682.png"},91:function(e,t,a){e.exports=a.p+"static/media/shark.f7bb7bd6.png"},92:function(e,t,a){e.exports=a.p+"static/media/green-sea-turtle.b18cc465.png"},93:function(e,t,a){e.exports=a.p+"static/media/bluefintuna.69443f1b.png"},94:function(e,t,a){e.exports=a.p+"static/media/humpback.62c70730.png"},95:function(e,t,a){e.exports=a.p+"static/media/fishing-boat.6e792d50.png"},96:function(e,t,a){e.exports=a.p+"static/media/cruise-ship.f1761113.png"},97:function(e,t,a){e.exports=a.p+"static/media/plastic.11f9b5ea.png"},98:function(e,t,a){e.exports=a.p+"static/media/microplastics.7c86267a.png"},99:function(e,t,a){e.exports=a.p+"static/media/plasticbag.e5eaa4f3.png"}}]);